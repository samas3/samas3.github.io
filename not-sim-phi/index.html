<!DOCTYPE html>
<html>

<head>
	<!--viewport-fit=cover:Fill the whole screen on iPhone X-->
	<meta charset="utf-8" name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no,viewport-fit=cover">
	<title>(っ °Д °;)っ</title>
	<link rel="manifest" href="./manifest.json">
	<link rel="stylesheet" href="/utils/style.css">
	<link rel="stylesheet" href="./style.css?v=142241">
	<script>
		if ('serviceWorker' in navigator) {
			navigator.serviceWorker.register('./service-worker.js').then(() => { console.log('Service Worker Registered'); });
		}
	</script>
	<script>
		; (function () {
			var src = 'lib/eruda';
			if (!(new URLSearchParams(location.search)).has('test')) return;
			document.write('<scr' + 'ipt src="' + src + '"></scr' + 'ipt>');
			document.write('<scr' + 'ipt>eruda.init();</scr' + 'ipt>');
		})();
	</script>
	<script>if (!window.Promise) location.href = '/412.html';</script>
	<script src="/utils/main.js"></script>
	<script type="module" src="./script.js?v=142251"></script>
</head>

<body>
	<noscript><strong style="color:#f00">此浏览器不支持JavaScript，该脚本无法运行。</strong></noscript>
	<div class="index">
		<div class="main">
			<h1 class="title"></h1>
			<p class="info"></p>
			<p class="profile">上传<a id="qwq">谱面和资源文件</a>或将其打包成zip然后上传；<br>读取完成后调节相关参数，最后点击“播放”按钮。<br>播放时双击画面：左上角暂停；右上角重新开始；右下角全屏。</p>
			<div id="uploader" class="disabled">
				<input type="button" id="uploader-upload" value="上传">
				<div id="uploader-select">
					<label id="uploader-file">上传文件</label>
					<label id="uploader-dir">上传文件夹</label>
				</div>
			</div>
			<input type="button" id="legacy" value="Legacy" onclick="location.replace('/sim-phi-legacy')">
			<input type="button" id="demo" value="Demo">
			<input type="button" value="重置" onclick="location.reload(true)">
			<input type="button" id="btn-more" value="更多设置">
			<div id="select" class="disabled">
				<div>谱面：<select id="select-chart" style="width:6em"></select></div>
				<div>音乐：<select id="select-bgm" style="width:6em"></select></div>
				<div>图片：<select id="select-bg" style="width:6em"></select></div><br>
				<div><input id="del_chart" type="button" value="删除当前谱面">
					<input id="del_bgm" type="button" value="删除当前音乐">
					<input id="del_bg" type="button" value="删除当前图片">
					<input id="random" type="button" value="随机谱面"></div><br>
				<div>宽高比：<select id="select-aspect-ratio" style="width:4em">
						<option value="1.25">5:4</option>
						<option value="1.333333">4:3</option>
						<option value="1.4316546762589928">10:7</option>
						<option value="1.461538">19:13</option>
						<option value="1.6">8:5</option>
						<option value="1.666667">5:3</option>
						<option value="1.692308">22:13</option>
						<option value="1.777778" selected>16:9</option>
					</select>
				</div>
				<div>按键缩放：<select id="select-note-scale" style="width:4em">
						<option value="0.8">极小</option>
						<option value="0.9">较小</option>
						<option value="1" selected>默认</option>
						<option value="1.15">较大</option>
						<option value="1.3">极大</option>
					</select>
				</div>
				<div>背景变暗：<select id="select-background-dim" style="width:4em">
						<option value="1">黑暗</option>
						<option value="0.8">昏暗</option>
						<option value="0.6" selected>默认</option>
						<option value="0.4">较亮</option>
						<option value="0.2">明亮</option>
					</select>
				</div><br>
				<div>曲名：<input id="input-name" class="input" style="width:7em" placeholder="&#60; Untitled &#62;"></div>
				<div>曲师：<input id="input-artist" class="input" style="width:7em" placeholder="&#60; nameless &#62;"></div><br>
				<div>曲绘：<input id="input-illustrator" class="input" style="width:7em" placeholder="&#60; nameless &#62;"></div>
				<div>谱师：<input id="input-charter" class="input" style="width:7em" placeholder="&#60; nameless &#62;"></div><br>
				<div>难度：<input id="input-level" class="input" style="width:2em" placeholder="SP"> Lv. <input id="numlevel" class="input" style="width:2em" placeholder="?"></div>
				<div>音效音量：
					<input id="select-volume" class="input" style="width:3em" value="1"><!-- <select id="select-volume" style="width:5em">
						<option value="0">0%</option>
						<option value="0.25">25%</option>
						<option value="0.5">50%</option>
						<option value="1" selected>100%</option>
						<option value="2.5">250%</option>
						<option value="5">500%</option>
					</select> -->
				</div><br>
				<div><input type="checkbox" id="feedback" checked><label for="feedback">触摸反馈</label></div>
				<div><input type="checkbox" id="imageBlur" checked><label for="imageBlur">背景模糊</label></div>
				<div><input type="checkbox" id="highLight" checked><label for="highLight">多押高亮</label></div><br>
				<div><input type="checkbox" id="lineColor" checked><label for="lineColor">FC/AP指示器</label></div>
				<div class="disabled-when-playing"><input type="checkbox" id="autoplay" checked><label for="autoplay">AutoPlay</label></div>
				<div class="disabled-when-playing" style="display: none;"><input type="checkbox" id="hyperMode"><label for="hyperMode">HyperMode</label></div>
				<div class="disabled-when-playing"><input type="checkbox" id="showTransition" checked><label for="showTransition">过渡动画</label></div><br>
				<div class="">谱面镜像：<select id="select-flip" style="width:4em">
						<option value="0" selected>无</option>
						<option value="1">X轴</option>
						<option value="2">Y轴</option>
						<option value="3">X&Y</option>
					</select>
				</div>
				<div class="disabled-when-playing">音乐变速：
					<!-- <select id="select-speed" style="width:4em">
						<option value="Slowest">极慢</option>
						<option value="Slower">较慢</option>
						<option value="" selected>正常</option>
						<option value="Faster">较快</option>
						<option value="Fastest">极快</option>
					</select> -->
					<input type="number" min="0" id="select-speed" style="width: 4em" value="1"/>
				</div>
				<div class="disabled-when-playing">
					判定：<input type="number" id="judge" style="width: 4em" value="1"/>
				</div><br>
				<div class="disabled-when-playing">谱面延时(ms)：<input id="input-offset" type="number" step="5" class="input" style="width:4em" placeholder="0"></div>
				<div>
					进度：<input id="duration" type="number" class="input" style="width:4em">
					<input type="button" id="jump" value="跳转">
				</div><br>
				<div>
					<input type="button" id="btn-play" value="播放">
					<input type="button" id="btn-pause" value="暂停">
				</div>
				<div>
					<input type="button" id="record" value="谱面录制">
					<input type="button" value="下载TAXY文件" id="get-taxy" style="display: none;">
				</div>

				<br><div><input id="perfect" type="text" style="width: 4em" value="0" disabled hidden><input id="good" type="text" style="width: 4em" value="0" disabled hidden><input id="bad" type="text" style="width: 4em" value="0" disabled hidden><input id="miss" type="text" style="width: 4em" value="0" disabled hidden></div>
				<br><div><input id="addp" type="button" value="+1" hidden><input id="addg" type="button" value="+1" hidden><input id="addb" type="button" value="+1" hidden><input id="addm" type="button" value="+1" hidden></div>
				<br><div><input id="end" type="button" value="直接结算" hidden></div>
			</div>
			<div><strong id="msg-out">初始化...</strong></div>
			<div id="stage">
				<i class="tl">&#xe034;</i><i class="tr">&#xe042;</i><i class="bl">&#xe8b8;</i><i class="br">&#xe5d0;</i>
				<div id="mask">
					<!--<div>GitHub: lchz&#104;3473/sim-phi</div>
					<div>Tips: Do not distribute the URL in case the proliferation of low-tech videos!</div>
					<div>为维护社区良好环境，避免低技术视频泛滥，请不要直接传播模拟器网址！</div>-->
					<div>修改 by <a href="https://space.bilibili.com/620760367" style="color:blueviolet">samas3</a></div>
				</div>
			</div>
			<div id="cover-dark" class="cover-dark fade"></div>
			<div id="cover-view" class="cover-view fade" qwq>
				<div id="view-nav" class="view-nav">
					<a id="nav-use">模拟器使用说明</a>
					<a id="nav-cfg">更多设置</a>
					<a id="nav-msg">信息</a>
				</div>
				<div id="view-content" class="view-content">
					<iframe id="view-doc" frameborder="0"></iframe>
					<div id="view-cfg"></div>
					<div id="view-msg"></div>
				</div>
			</div>
		</div>
		<!--<p class="footer">&copy;&nbsp;2020-2023&nbsp;lchz&#104;3473</p>
		<input type="checkbox" id="aprilfools"><label for="aprilfools">愚人节模式</label>-->
		</div>
	</body>
	
</html>